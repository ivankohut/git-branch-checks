
plugins {
    id 'java-gradle-plugin'
    id 'maven-publish'
    id 'com.gradle.plugin-publish' version '0.14.0'
}

ext {
    junitVersion = '5.10.1'
}

repositories {
    mavenCentral()
}

pluginBundle {
    website = 'https://github.com/ivankohut/git-branch-checks'
    vcsUrl = 'https://github.com/ivankohut/git-branch-checks.git'
    tags = ['style', 'git']
}

gradlePlugin {
    plugins {
        gitBranchChecksPlugin {
            id = 'com.github.ivankohut.git-branch-checks'
            displayName = 'Git Branch Checks Plugin'
            description = 'Validation of some properties of current git branch'
            implementationClass = 'com.github.ivankohut.gitbranchchecks.GitBranchChecksPlugin'
        }
    }
}

dependencies {
    implementation 'org.eclipse.jgit:org.eclipse.jgit:6.7.0.202309050840-r'
    implementation 'org.cactoos:cactoos:0.55.0'

    testImplementation "org.junit.jupiter:junit-jupiter-api:${junitVersion}"
    testRuntimeOnly "org.junit.jupiter:junit-jupiter-engine:${junitVersion}"
    testImplementation "org.junit.jupiter:junit-jupiter-params:${junitVersion}"
    testImplementation 'org.assertj:assertj-core:3.24.2'
}

group = 'com.github.ivankohut'
version = '0.0.3'

sourceCompatibility = JavaVersion.VERSION_11
targetCompatibility = JavaVersion.VERSION_11
